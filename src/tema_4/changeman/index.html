<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Changeman</title>
  </head>
  <body>
    <ol id="lista">
      <li>Perico</li>
      <li>Juanico</li>
      <ul>
        <li>Jose</li>
        <ul>
          <li>Roman</li>
          <li>Marco</li>
          <li>Rodrigo</li>
        </ul>
        <li>Jose</li>
        <li>Lorenzo</li>
        <ul>
          <li>Dimas</li>
          <li>Gestas</li>
          <li>Malakatos</li>
          <li>Jose</li>
        </ul>
      </ul>
      <li>Sofoclis</li>
    </ol>

    <script>
        function changeMan(obj, man1, man2) {
            for (let i = 0; i < obj.children.length; i++) {
                if (obj.children[i].innerHTML.toLowerCase() === man1.toLowerCase()) {
                obj.children[i].innerHTML = man2;
                }
                if (obj.children[i].children.length > 0) {
                changeMan(obj.children[i], man1, man2);
                }
            }
            }
            changeMan(document.getElementById("lista"), "JOSE", "PEPE");
    </script>
  </body>
</html>
